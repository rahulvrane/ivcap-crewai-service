2025-11-12 13:50:34,575 [INFO] __main__ - ================================================================================
2025-11-12 13:50:34,575 [INFO] __main__ - üîß ENVIRONMENT SETUP
2025-11-12 13:50:34,575 [INFO] __main__ - ================================================================================
2025-11-12 13:50:34,575 [INFO] __main__ -   IVCAP_TOKEN present: False
2025-11-12 13:50:34,575 [INFO] __main__ -   IVCAP_TOKEN length: 0
2025-11-12 13:50:34,575 [INFO] __main__ -   IVCAP_TOKEN prefix: ...
2025-11-12 13:50:34,575 [INFO] __main__ -   litellm.drop_params: True
2025-11-12 13:50:34,575 [INFO] __main__ -   litellm.set_verbose: True
2025-11-12 13:50:34,575 [INFO] __main__ - ================================================================================
2025-11-12 13:50:34,575 [INFO] __main__ - üìù CREATING LLM INSTANCES
2025-11-12 13:50:34,575 [INFO] __main__ - ================================================================================
2025-11-12 13:50:34,575 [INFO] __main__ -   Attempt 1/3: Creating gemini-2.5-flash LLM...
2025-11-12 13:50:34,582 [INFO] __main__ -   ‚úÖ gemini-2.5-flash LLM created successfully
2025-11-12 13:50:34,582 [INFO] __main__ -   Attempt 1/3: Creating gemini-2.5-flash LLM...
2025-11-12 13:50:34,587 [INFO] __main__ -   ‚úÖ gemini-2.5-flash LLM created successfully
2025-11-12 13:50:34,587 [INFO] __main__ - ================================================================================
2025-11-12 13:50:34,587 [INFO] __main__ - üß™ TESTING INITIAL LLM CALL
2025-11-12 13:50:34,587 [INFO] __main__ - ================================================================================
2025-11-12 13:50:34,587 [INFO] __main__ -   Calling LLM (llm) with test message...
2025-11-12 13:50:34,703 [DEBUG] openai._base_client - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b259323c-f69f-41a5-92f7-8bc5e0a76781', 'json_data': {'messages': [{'role': 'user', 'content': 'Hello, how are you?'}], 'model': 'gemini-2.5-flash', 'stream': False}}
2025-11-12 13:50:34,732 [DEBUG] openai._base_client - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-11-12 13:50:34,793 [DEBUG] openai._base_client - Encountered Exception
Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 10, in map_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 121, in _send_request_headers
    event = h11.Request(
            ^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_events.py", line 96, in __init__
    self, "headers", normalize_and_validate(headers, _parsed=_parsed)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_headers.py", line 164, in normalize_and_validate
    validate(_field_value_re, value, "Illegal header value {!r}", value)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_util.py", line 91, in validate
    raise LocalProtocolError(msg)
h11._util.LocalProtocolError: Illegal header value b'Bearer '

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 60, in map_httpcore_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 253, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 237, in handle_request
    response = connection.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection.py", line 90, in handle_request
    return self._connection.handle_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 112, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 80, in handle_request
    self._send_request_headers(**kwargs)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 120, in _send_request_headers
    with map_exceptions({h11.LocalProtocolError: LocalProtocolError}):
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc)
httpcore.LocalProtocolError: Illegal header value b'Bearer '

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_base_client.py", line 982, in request
    response = self._client.send(
               ^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 908, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 936, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 973, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 1009, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 217, in handle_request
    with map_httpcore_exceptions():
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.LocalProtocolError: Illegal header value b'Bearer '
2025-11-12 13:50:34,802 [DEBUG] openai._base_client - 2 retries left
2025-11-12 13:50:34,802 [INFO] openai._base_client - Retrying request to /chat/completions in 0.375839 seconds
2025-11-12 13:50:35,183 [DEBUG] openai._base_client - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b259323c-f69f-41a5-92f7-8bc5e0a76781', 'json_data': {'messages': [{'role': 'user', 'content': 'Hello, how are you?'}], 'model': 'gemini-2.5-flash', 'stream': False}}
2025-11-12 13:50:35,184 [DEBUG] openai._base_client - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-11-12 13:50:35,207 [DEBUG] openai._base_client - Encountered Exception
Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 10, in map_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 121, in _send_request_headers
    event = h11.Request(
            ^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_events.py", line 96, in __init__
    self, "headers", normalize_and_validate(headers, _parsed=_parsed)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_headers.py", line 164, in normalize_and_validate
    validate(_field_value_re, value, "Illegal header value {!r}", value)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_util.py", line 91, in validate
    raise LocalProtocolError(msg)
h11._util.LocalProtocolError: Illegal header value b'Bearer '

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 60, in map_httpcore_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 253, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 237, in handle_request
    response = connection.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection.py", line 90, in handle_request
    return self._connection.handle_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 112, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 80, in handle_request
    self._send_request_headers(**kwargs)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 120, in _send_request_headers
    with map_exceptions({h11.LocalProtocolError: LocalProtocolError}):
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc)
httpcore.LocalProtocolError: Illegal header value b'Bearer '

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_base_client.py", line 982, in request
    response = self._client.send(
               ^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 908, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 936, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 973, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 1009, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 217, in handle_request
    with map_httpcore_exceptions():
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.LocalProtocolError: Illegal header value b'Bearer '
2025-11-12 13:50:35,209 [DEBUG] openai._base_client - 1 retry left
2025-11-12 13:50:35,209 [INFO] openai._base_client - Retrying request to /chat/completions in 0.902235 seconds
2025-11-12 13:50:36,116 [DEBUG] openai._base_client - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b259323c-f69f-41a5-92f7-8bc5e0a76781', 'json_data': {'messages': [{'role': 'user', 'content': 'Hello, how are you?'}], 'model': 'gemini-2.5-flash', 'stream': False}}
2025-11-12 13:50:36,117 [DEBUG] openai._base_client - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-11-12 13:50:36,141 [DEBUG] openai._base_client - Encountered Exception
Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 10, in map_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 121, in _send_request_headers
    event = h11.Request(
            ^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_events.py", line 96, in __init__
    self, "headers", normalize_and_validate(headers, _parsed=_parsed)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_headers.py", line 164, in normalize_and_validate
    validate(_field_value_re, value, "Illegal header value {!r}", value)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_util.py", line 91, in validate
    raise LocalProtocolError(msg)
h11._util.LocalProtocolError: Illegal header value b'Bearer '

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 60, in map_httpcore_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 253, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 237, in handle_request
    response = connection.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection.py", line 90, in handle_request
    return self._connection.handle_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 112, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 80, in handle_request
    self._send_request_headers(**kwargs)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 120, in _send_request_headers
    with map_exceptions({h11.LocalProtocolError: LocalProtocolError}):
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc)
httpcore.LocalProtocolError: Illegal header value b'Bearer '

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_base_client.py", line 982, in request
    response = self._client.send(
               ^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 908, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 936, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 973, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 1009, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 217, in handle_request
    with map_httpcore_exceptions():
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.LocalProtocolError: Illegal header value b'Bearer '
2025-11-12 13:50:36,141 [DEBUG] openai._base_client - Raising connection error
2025-11-12 13:50:36,142 [ERROR] root - Failed to connect to OpenAI API: Connection error.
2025-11-12 13:50:36,142 [ERROR] root - OpenAI API call failed: Failed to connect to OpenAI API: Connection error.
2025-11-12 13:50:36,143 [ERROR] __main__ -   ‚ùå Test call (llm) failed: Failed to connect to OpenAI API: Connection error.
Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 10, in map_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 121, in _send_request_headers
    event = h11.Request(
            ^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_events.py", line 96, in __init__
    self, "headers", normalize_and_validate(headers, _parsed=_parsed)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_headers.py", line 164, in normalize_and_validate
    validate(_field_value_re, value, "Illegal header value {!r}", value)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/h11/_util.py", line 91, in validate
    raise LocalProtocolError(msg)
h11._util.LocalProtocolError: Illegal header value b'Bearer '

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 60, in map_httpcore_exceptions
    yield
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 218, in handle_request
    resp = self._pool.handle_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 253, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection_pool.py", line 237, in handle_request
    response = connection.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/connection.py", line 90, in handle_request
    return self._connection.handle_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 112, in handle_request
    raise exc
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 80, in handle_request
    self._send_request_headers(**kwargs)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_sync/http11.py", line 120, in _send_request_headers
    with map_exceptions({h11.LocalProtocolError: LocalProtocolError}):
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc)
httpcore.LocalProtocolError: Illegal header value b'Bearer '

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_base_client.py", line 982, in request
    response = self._client.send(
               ^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 908, in send
    response = self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 936, in _send_handling_auth
    response = self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 973, in _send_handling_redirects
    response = self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_client.py", line 1009, in _send_single_request
    response = transport.handle_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 217, in handle_request
    with map_httpcore_exceptions():
  File "/Users/ran12c/anaconda3/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/httpx/_transports/default.py", line 77, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.LocalProtocolError: Illegal header value b'Bearer '

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/crewai/llms/providers/openai/completion.py", line 289, in _handle_completion
    response: ChatCompletion = self.client.chat.completions.create(**params)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_utils/_utils.py", line 286, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/resources/chat/completions/completions.py", line 1147, in create
    return self._post(
           ^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/openai/_base_client.py", line 1014, in request
    raise APIConnectionError(request=request) from err
openai.APIConnectionError: Connection error.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/ran12c/development/ivcapworks/ivcap-crewai-service/examples/fixed_litellm_crew_docrag.py", line 153, in <module>
    response = llm.call(messages=[{"role": "user", "content": "Hello, how are you?"}])
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/crewai/llms/providers/openai/completion.py", line 172, in call
    return self._handle_completion(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/ran12c/anaconda3/lib/python3.11/site-packages/crewai/llms/providers/openai/completion.py", line 361, in _handle_completion
    raise ConnectionError(error_msg) from e
ConnectionError: Failed to connect to OpenAI API: Connection error.
2025-11-12 13:50:36,155 [DEBUG] asyncio - Using selector: KqueueSelector
